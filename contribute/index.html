<p>We aim to ship code that works well, is easy to deploy and makes sysadmins happy.</p>
<h2>Fixes and updates to existing buddycloud projects</h2>
<p><em>For example: bug fixes, updates, patches, documentation.</em></p>
<h3>Git</h3>
<ul>
<li>we use <a href="http://nvie.com/posts/a-successful-git-branching-model/">GitFlow</a>
<ul>
<li><strong>master branch</strong>: tagged for <a href="http://downloads.buddycloud.com/packages/debian/releases/">production releases</a></li>
<li><strong>hotfix branch</strong>: quick fixes for bugs in master that are rolled back into the develop branch and master branch</li>
<li><strong>dev-candy</strong>: integrates the feature branches and is used for the <a href="http://downloads.buddycloud.com/packages/debian/nightly/">nightly builds</a></li>
<li><strong>feature branches</strong>: patches or fixes from side project that will eventually get folded back into the develop branch for testing with other features</li>
</ul></li>
<li>please submit pull requests via <a href="https://github/com/buddycloud">Github</a></li>
</ul>
<h3>Code style</h3>
<p>We follow the following coding guidelines:</p>
<ul>
<li><a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml">C++</a></li>
<li><a href="http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml">javascript</a></li>
<li><a href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html">python</a></li>
<li><a href="http://code.google.com/p/java-coding-standards/">java</a></li>
</ul>
<h3>Checklist before submitting a pull request</h3>
<ul>
<li>The new code does not depend on GPL, LGPL or similarly licensed code.</li>
<li>added code complies with coding standards.</li>
<li>New source files begin with the apache software license statement.</li>
<li>New test cases written and succeed.</li>
<li>Documentation page extended as appropriate.</li>
</ul>
<h2>New buddycloud projects</h2>
<p><em>For example: a new media server or new a mobile gateway.</em></p>
<p>This is for a full project that you would like to release that will interoperate with other buddycloud services.</p>
<h3>Project lifecycle</h3>
<p>So you have an a super cool amazing idea that will really help buddycloud. Here's a few steps that will help when it comes to accepting it into the buddycloud core.</p>
<ol>
<li>chat about it one of the daily hangouts or bring it up on the mailing list</li>
<li>if there's some traction write it up as a project on this wiki (for example: <a href="https://buddycloud.org/wiki/Buddycloud_media_server">buddycloud media server</a>)</li>
<li>create a project channel</li>
<li>write a test suite</li>
<li>build it</li>
<li>keep the team updated via the channel and email</li>
<li>deploy onto your own buddycloud domain or onto the dev server (crater.buddycloud.com) for testing</li>
<li>create a useful README</li>
<li>create a new project in <a href="https://github.com/buddycloud/buddycloud-package/tree/master/projects">https://github.com/buddycloud/buddycloud-package/tree/master/projects</a> to build your project.</li>
</ol>
<h2>Release checklist</h2>
<p>It ain't over until the <a href="http://en.wikipedia.org/wiki/It_ain&#39;t_over_till_the_fat_lady_sings">fatlady sings</a>: this is the checklist we use to know when something is release ready</p>
<p><strong>Be nice to your sysadmin</strong></p>
<ul>
<li>have you written a start stop restart script?</li>
<li>does your code run as it's own user? (not your user / root)</li>
<li>is your code packaged: as a bare minimum all buddycloud code should be Debian packages and available through the nightly build system.</li>
<li>does the server clearly log when it is finished initialising connections, caches etc and is really started &quot;<server-name> started&quot;</li>
<li>does your server clearly log the version number on startup?</li>
<li>does the server pause a few seconds between reconnect attempts?</li>
<li>When deployed, is the server set to start on boot</li>
<li>If you arrived on a box in the middle of the night during an outage, which you would rather see: <code>/usr/bin/node server.js</code> or <code>/usr/bin/node /etc/buddycloud-server/server.js</code>.</li>
</ul>
<p><strong>Be nice to your distro packager</strong></p>
<ul>
<li>Does your code have a parameter to read a config file from outside the install directory? <code>&quot;--config=&quot;</code></li>
<li>Have you included log rotation?</li>
<li>Will this work with the start-stop-daemon binary?</li>
<li>Does it write to a log file? This will help with a start-stop script (writing to STDOUT doesn't work well for startup scripts)</li>
</ul>
<p><strong>Be nice to other developers</strong></p>
<ul>
<li>Did you include a README that explains:
<ul>
<li>how to use this code?</li>
<li>how to build from source?</li>
<li>pointers to your design considerations? (answer: what's the aim of this project and what constraints did you work against)</li>
</ul></li>
</ul>
<p><strong>Be nice to your server</strong></p>
<ul>
<li>if your code connects to other services, does it reconnect automatically when that other service isn't available at start?</li>
<li>if your code connects to other services, does it reconnect automatically when that other service goes down and comes back up?</li>
<li>if the database server is restarted, does your code automatically reconnect to the database with a pause between reconnection attempts?</li>
<li>do you use database connection pooling?</li>
</ul>
