<html>
<head>
<title>How it works</title>
<meta name="url" content="how-buddycloud-works" />
<meta name="save_as" content="how-buddycloud-works.html" />
<meta name="order" content="5" />
<meta name="fulltitle" content="How it works" />
<meta name="table_of_contents" content="true" />
</head>
<body>
	<!--		<h1>Architecture / how it works</h1>
		<p>Answer:</p>
		<ul>
			<li>How does this work?</li>
			<li>What is a channel?</li>
			<li>How do push notifications work?</li>
			<li>What kind of applications use Buddycloud</li>
			<li>What are the key components?</li>
			<li>How do I connect to Buddycloud?</li>
			<li><s>How will I authenticate against my users?</s></li>
			<li><s>How does Buddycloud scale?</s></li>
			<li>What's the security model?</li>
			<li>What's the difference between hosted Buddycloud and the Buddycloud I can run?</li>
		</ul>
		<p>Main message</p>
		<ul>
			<li>This will save you development time</li>
			<li>This gives you a great future platform to build on and extend to your own needs</li>
		</ul>-->
	<p class="lead">Buddycloud is an ecosystem of components, distributed by
		design, and built without cutting corners.</p>
	<h1>Distributed design</h1>
	<p>We've designed Buddycloud so that anyone can run their own Buddycloud
		server. This means that companies and privacy aware individuals can maintain
		their own communication cloud behind the firewall and selectively choose what
		data they wish to share with others.</p>
	<p>
	<figure>
		<img src="/theme/img/features/completely distributed design.png"
			alt="completely distributed design" />
		<figcaption>Buddycloud sites find each other, connect, and share
			information.</figcaption>
	</figure>
	</p>
	<p>The old way of building communication services was to put all the data
		into a central core.</p>
	<p>Buddycloud is a revolutionary new design where anyone can run their own
		Buddycloud server, and each Buddycloud server will find, connect and share the
		data you choose with users on other Buddycloud servers.</p>
	<p>This approach has huge benefits, especially for industries that care
		about data privacy (Finance, Medicine).</p>
	<table class='table table-striped  '>
		<tr>
			<th></th>
			<th>Old Design (Twitter, Facebook, G+, App.net)</th>
			<th>Buddycloud</th>
		</tr>
		<tr>
			<td>Trust Model</td>
			<td>Trust them</td>
			<td>You control and choose</td>
		</tr>
		<tr>
			<td>Data location</td>
			<td>USA</td>
			<td>You choose</td>
		</tr>
		<tr>
			<td>Intranet only/behind the firewall (runs in-house)</td>
			<td>Not possible</td>
			<td>Hosted or behind your firewall</td>
		</tr>
		<tr>
			<td>Add new features</td>
			<td>One-size-fits-all</td>
			<td>fully extensible</td>
		</tr>
	</table>
	<h2>Buddycloud uses channels</h2>
	<p>
		A channel is a collection of activity feeds and value-stores that can have
		publishers, and subscribers. Buddycloud channels can scale up to millions of
		followers or scale down to be used as an individual data-store. A channel
		looks like
		<code>user@example.com</code>
	</p>
	<p>
	<figure>
		<img src="/theme/img/diagrams/buddycloud uses channels.png"
			alt="buddycloud uses channels" />
		<figcaption>Buddycloud channels are extensible for any
			application to use.</figcaption>
	</figure>
	</p>
	<p>channels look like</p>
	<table class="table table-striped  ">
		<tr>
			<th>Channel Address</th>
			<th>Description</th>
		</tr>
		<tr>
			<td>user@example.com</td>
			<td>A user's channel</td>
		</tr>
		<tr>
			<td>user@other-domain.com</td>
			<td>A buddycloud channel on a remote site</td>
		</tr>
		<tr>
			<td>customer-support@company.com</td>
			<td>A channel that anyone can post into and get support</td>
		</tr>
	</table>
	<br />
	<h2>Channels are a bundle of nodes</h2>
	<p>
		Each channel is made up of application nodes. When you follow a channel, for
		example,
		<code>user@example.com</code>
		you are really following a collection of application nodes. (
		<code>user@example.com/posts</code>
		,
		<code>user@example.com/public-key</code>
		,
		<code>user@example.com/geolocation</code>
		, etc). Any updates to a node are pushed out to all followers of the channel.
		So when you want to build your application on Buddycloud you simply use an
		existing application node or create a new one for your projects specific
		needs.
	</p>
	<p>
	<figure>
		<img src="/theme/img/diagrams/channels comprise application nodes.png"
			alt="channels intercommunicate" />
		<figcaption>Buddycloud channels are extensible for any
			application to use.</figcaption>
	</figure>
	</p>
	<p>Each Application node can have different stream formats, different
		metadata fields and different stream lengths (single item vs infinite items).</p>
	<table class="table table-striped  ">
		<tr>
			<th>Channel and Application node name</th>
			<th>Example</th>
		</tr>
		<tr>
			<td>user@example.com/posts</td>
			<td>One or more, activitystream of public posts</td>
		</tr>
		<tr>
			<td>user@example.com/selfies-application</td>
			<td>One or more, activitystream for a selfies application</td>
		</tr>
		<tr>
			<td>user@example.com/public-key</td>
			<td>A single public key that can be used to encrypt messages to <code>user@example.com</code>
			</td>
		</tr>
		<tr>
			<td>user@example.com/geolocation</td>
			<td>An application updates the users location and all followers receive
				the update</td>
		</tr>
		<tr>
			<td>user@example.com/webrtc</td>
			<td>An application node used for webRTC call negotiation and setup</td>
		</tr>
	</table>
	<br />
	<h2>Channel synchronisation</h2>
	<p>Buddycloud channels are synchronized across Buddycloud sites</p>
	<p>
		You post data in a channel (for example
		<code>user@example.com/posts</code>
		) and the update is synchronised to followers on the local and remote
		Buddycloud servers. The Buddycloud server will also take care of "catching-up"
		from remote sites if it has been offline.
	</p>
	<p>
	<figure>
		<img src="/theme/img/diagrams/channel sync between sites.png"
			alt="channels intercommunicate" />
		<figcaption>Data posted into one channel is pushed to follower's
			channels.</figcaption>
	</figure>
	</p>
	<br />
	<h2>Personal and Topic channels</h2>
	<p>There are two different types of channels. Personal channels and
		Topic/Group/Application channels.</p>
	<table class="table table-striped  ">
		<tr>
			<th></th>
			<th>Personal channels</th>
			<th>Topic/group/application channels</th>
		</tr>
		<tr>
			<td>Creation time</td>
			<td>Automatically created for new users</td>
			<td>Created by users or applications</td>
		</tr>
		<tr>
			<td>Example</td>
			<td><code>user@example.com</code></td>
			<td><code>football@example.com</code><br /> <code>cat-pictures@example.com</code><br />
				<code>{uuid}@example.com</code></td>
		</tr>
		<tr>
			<td>Channels per user</td>
			<td>Always one</td>
			<td>Infinite</td>
		</tr>
	</table>
	<br />
	<h2>Channel privacy</h2>
	<p>Each channel can have different privacy models</p>
	<table class="table table-striped  ">
		<tr>
			<th>Privacy model</th>
			<th>Typical use</th>
			<th>Example</th>
		</tr>
		<tr>
			<td>whitelist</td>
			<td>New followers to a channel need to be approved</td>
			<td><code>user@example.com</code></td>
		</tr>
		<tr>
			<td>open</td>
			<td>A popular channel that serves public information</td>
			<td><code>news-updates@bbc.co.uk</code></td>
		</tr>
		<tr>
			<td>site-wide</td>
			<td>A company channel where you want to automatically approve anyone on
				a domain</td>
			<td><code>team@example.com</code></td>
		</tr>
	</table>
	<br />
	<h2>Channel Roles</h2>
	<p>Channel followers have have different roles. Most of the time you will
		not need them but roles can help keep the social aspect flowing.</p>
	<table class="table table-striped  ">
		<tr>
			<th>Role</th>
			<th>What can they do?</th>
		</tr>
		<tr>
			<td>Owner</td>
			<td>A single user who can make other users moderators</td>
		</tr>
		<tr>
			<td>Moderator</td>
			<td>A list of users who can approve new followers to the channel. Curate
				posts.</td>
		</tr>
		<tr>
			<td>Follower+post</td>
			<td>A list of users who can post to the channel</td>
		</tr>
		<tr>
			<td>Follower</td>
			<td>A list of users who have read-only access to the channel</td>
		</tr>
		<tr>
			<td>Banned</td>
			<td>A list of users that cannot access the channel</td>
		</tr>
	</table>
	<p>Channel owners can set the default role for new followers. For example:
		new followers will inherit the follower+post role.</p>
	<br />
	<h1>Buddycloud System Architecture</h1>
	<br />
	<h2>Modular design</h2>
	<p>Buddycloud is is an ecosystem of servers bound together on a common
		messaging bus. Each server component runs independently and communications
		with it's peers locally or with remote sites that also run buddycloud.</p>
	<p>This component model also helps with scaling. When the time comes to
		grow, simply add a new component with the same address and requests are load
		balanced between them.</p>
	<br />
	<h2>Everything is modular / a component</h2>
	<p>We've designed Buddycloud to be extensible. Indeed even the
		Buddycloud-server is just another component that connects to a common
		communication bus. This modular design has particular advantages:</p>
	<ul>
		<li>Easily add new features by just adding new modules</li>
		<li>Independently scale modules</li>
		<li>Security is compartmentalized</li>
		<li>Modules can be geographically distributed or hosted remotely</li>
	</ul>
	<br />
	<h2>Authenticate against your existing database of users</h2>
	<p>Buddycloud has a number of ways to authenticate against your existing
		database of users.</p>
	<table class="table table-striped  ">
		<tr>
			<th></th>
			<th>How it works</th>
			<th>Use case</th>
		</tr>
		<tr>
			<td>Buddycloud user database</td>
			<td>Use Buddycloud API for user authentication</td>
			<td>Starting fresh with a new set of users</td>
		</tr>
		<tr>
			<td>Parallel secret</td>
			<td>Your application generates a secret to be used with the buddycloud
				service</td>
			<td>New user base or existing user database</td>
		</tr>
		<tr>
			<td>Remote application call</td>
			<td>Authenticate users according to a pre-existing application API (for
				example https://your-app.com/auth)</td>
			<td>New user base or existing user database</td>
		</tr>
	</table>
	<br />
	<h2>Connection handling</h2>
	<p>Applications have a number of different ways to connect to Buddycloud.</p>
	<table class="table table-striped  ">
		<tr>
			<th>Endpoint</th>
			<th>Useful for</th>
		</tr>
		<tr>
			<td><a href="/api">HTTP API</a></td>
			<td>REST Based API - great for mobile apps.</td>
		</tr>
		<tr>
			<td><a href="https://xmpp-ftw.jit.su/manual/extensions#buddycloud">XMPP-FTW</a></td>
			<td>JavaScript web development</td>
		</tr>
		<tr>
			<td><a href="/buddycloud-xep">XMPP</a></td>
			<td>Native XMPP gateway</td>
		</tr>
		<!-- 	<tr>
			<td>Libraries</td>
			<td><a href="http://buddycloudjs.buddycloud.com/">buddycloud.js</a></td>
		</tr> -->
	</table>
</body>
</html>
